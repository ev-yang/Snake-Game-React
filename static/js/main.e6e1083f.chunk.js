(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{25:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(19),a=n.n(s),o=(n(25),n(17)),i=n(11),j=n(7),u=n(2),d=n(0),l=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Snake"})})},b=function(e){var t=e.reset;return Object(d.jsxs)("div",{className:"menu",children:[Object(d.jsx)(l,{}),Object(d.jsx)(j.b,{to:"/play",onClick:t,children:"Start game"}),Object(d.jsx)(j.b,{to:"/instructions",children:"Instructions"})]})},x=function(){return Object(d.jsxs)("div",{className:"instructions",children:[Object(d.jsx)("h2",{children:"Instructions"}),Object(d.jsxs)("p",{children:["Use the arrow keys to control the direction of the snake (",Object(d.jsx)("span",{className:"green",children:"green"})," squares)."]}),Object(d.jsxs)("p",{children:["Eat the food (",Object(d.jsx)("span",{className:"blue",children:"blue"})," squares) to grow longer."]}),Object(d.jsx)("p",{children:"Avoid running into yourself or the game borders."}),Object(d.jsx)(j.b,{to:"/",children:"Back"})]})},h=function(e){var t=e.x,n=e.y;return Object(d.jsx)("div",{className:"snake-square",style:{left:t+"%",top:n+"%"}})},f=function(e){var t=e.x,n=e.y;return Object(d.jsx)("div",{className:"food-square",style:{left:t+"%",top:n+"%"}})},O=function(e){var t=e.snake,n=e.food;return function(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){n.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}(e.move,100),Object(d.jsxs)(d.Fragment,{children:[t.map((function(e){return Object(d.jsx)(h,{x:e.x,y:e.y},e.id)})),n.map((function(e){return Object(d.jsx)(f,{x:e.x,y:e.y},e.id)}))]})},y=function(e){var t=e.score;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("p",{className:"score",children:["Score: ",t]})})},v=function(e){var t=e.score,n=e.reset;return Object(d.jsxs)("div",{className:"end-game",children:[Object(d.jsx)("h2",{children:"Game over!"}),Object(d.jsxs)("p",{children:["Your score: ",t]}),Object(d.jsx)(j.b,{to:"/play",onClick:n,children:"Play again"}),Object(d.jsx)(j.b,{to:"/",onClick:n,children:"Home"})]})},g=function(e){var t=e.snake,n=e.food,c=e.move,r=e.gameOver,s=e.reset;return Object(d.jsxs)(j.a,{children:[Object(d.jsxs)("div",{className:"game-area",children:[Object(d.jsx)(u.b,{path:"/",exact:!0,render:function(){return Object(d.jsx)(b,{reset:s})}}),Object(d.jsx)(u.b,{path:"/instructions",exact:!0,component:x}),Object(d.jsx)(u.b,{path:"/play",exact:!0,children:r?Object(d.jsx)(u.a,{to:"/end"}):Object(d.jsx)(O,{snake:t,food:n,move:c})}),Object(d.jsx)(u.b,{path:"/end",exact:!0,render:function(){return Object(d.jsx)(v,{score:t.length-3,reset:s})}})]}),Object(d.jsx)(u.b,{path:"/play",exact:!0,render:function(){return Object(d.jsx)(y,{score:t.length-3})}})]})},m=function(){Object(c.useEffect)((function(){document.onkeydown=m}),[]);var e=Object(c.useState)([p(1),p(2),p(3)]),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([{id:1,x:10,y:10},{id:2,x:12,y:10},{id:3,x:14,y:10}]),a=Object(i.a)(s,2),j=a[0],u=a[1],l=Object(c.useState)("right"),b=Object(i.a)(l,2),x=b[0],h=b[1],f=Object(c.useState)(!1),O=Object(i.a)(f,2),y=O[0],v=O[1];function m(e){37===(e=e||window.event).keyCode?h("left"):38===e.keyCode?h("up"):39===e.keyCode?h("right"):40===e.keyCode&&h("down")}function p(e){return{id:e,x:2*Math.floor(49*Math.random()),y:2*Math.floor(49*Math.random())}}return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(g,{snake:j,food:n,move:function(){var e=j[j.length-1],t={id:j[0].id,x:e.x,y:e.y};"left"===x?t.x=e.x-2:"up"===x?t.y=e.y-2:"right"===x?t.x=e.x+2:"down"===x&&(t.y=e.y+2);var c=[].concat(Object(o.a)(j),[t]);(function(e){for(var t=e[e.length-1],c=0;c<n.length;c++){var s=n[c];if(s.x===t.x&&s.y===t.y){e[e.length-1].id=e.length,u(e);var a=Object(o.a)(n);return a[c]=p(c+1),r(a),!0}}return!1})(c)||function(e){var t=e[e.length-1];if(t.x<0||t.y<0||t.x>98||t.y>98)return v(!0),!0;for(var n=0;n<e.length-1;n++){var c=e[n];if(c.x===t.x&&c.y===t.y)return v(!0),!0}return!1}(c)||u(c.slice(1))},gameOver:y,reset:function(){v(!1),h("right"),u([{id:1,x:10,y:10},{id:2,x:12,y:10},{id:3,x:14,y:10}]),r([p(1),p(2),p(3)])}})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root")),p()}},[[32,1,2]]]);
//# sourceMappingURL=main.e6e1083f.chunk.js.map